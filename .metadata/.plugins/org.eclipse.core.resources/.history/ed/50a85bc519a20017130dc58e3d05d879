/*
 * ihm.h
 *
 *  Created on: 20/06/2017
 *      Author: Fl�vio Soares
 */
#ifndef SOURCES_IHM_H_
#define SOURCES_IHM_H_

#include <stdint.h>
#include <stdbool.h>

#include "FreeRTOS.h"
#include "task.h"
#include "queue.h"
#include "event_groups.h"

#include "TSS_API.h"

//Eventos do clock
#define	BIT_UPDATE_LCD				0x01
#define	BIT_UPDATE_LCD_XYZ			0x02
#define	BIT_UPDATE_LCD_STAT_COM		0x04

#define		IHM_EVENT_NONE			0x08
#define		IHM_EVENT_CHOOSE_LEFT	0x10
#define		IHM_EVENT_CHOOSE_RIGHT	0x20
#define		IHM_EVENT_CHOOSE_OK		0x40

typedef enum {
	SCREEN_SPLASH,
	SCREEN_STAT_COM,
	SCREEN_CLOCK,
	SCREEN_ACCE
} screen;


/**
 * CHAMANDO ESTA ESTRUTURA DE IHM (INTERFACE HOMEM-M�QUINA) EM VEZ DE
 * MMI (MEN-MACHINE INTERFACE) POR PURO GOSTO PESSOAL... :)
 */

/**
 * Inicializa interface homem máquina
 */
void ihm_init(void);

/**
 *
 */
void ihm_deInit(void);

/**
 *
 */
void ihm_task(void);

/**
 *
 */
//int ihm_put_slide_event(TSS_CSASlider *event);

//void ihm_process_events(ihmStruct *ihm);
//void initEvents(void);

void printLCD(int linha,int coluna,char* str);
void printClock(void);
void printSplash(void);
void printAccelerometer(void);
void printStatCom(void);

void ihm_update(screen screen,const EventBits_t uxBitsToSet);

extern TaskHandle_t			xHandleIHMTask;
extern EventGroupHandle_t	ihm_events;

#endif /* SOURCES_IHM_H_ */
